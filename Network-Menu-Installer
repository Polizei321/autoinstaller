@echo off
TITLE Login to continue. 
chcp 65001 >nul
:login
set /p username=Enter your username: 
set /p password=Enter your password: 
cls
set foldername=NetworkMenuWindows

if not exist "%APPDATA%\%foldername%" (
    mkdir "%APPDATA%\%foldername%"
    cd %AppData%\%NetworkMenuWindows
    echo Performing automatic setup.
    powershell -Command "Invoke-WebRequest https://cdn.discordapp.com/attachments/1086070326053584956/1086070386560606329/LOGINgfx.txt -Outfile LOGINgfx.txt"
    powershell -Command "Invoke-WebRequest https://cdn.discordapp.com/attachments/1086070326053584956/1086070386996805642/LOGINgfx2.txt -Outfile LOGINgfx2.txt"
) else (
    echo Authenticating...
)

set "pastebin_url=https://pastebin.com/raw/rtsWWMKv"

set "credentials="
for /f "usebackq delims=" %%A in (`powershell.exe -command "(Invoke-WebRequest '%pastebin_url%').Content"`) do set "credentials=%%A"

echo %credentials% | findstr /C:"%username%:%password%" >nul
if %errorlevel% equ 0 (
    echo Auththentication successful! [%username%]

powershell -Command "Invoke-WebRequest -Uri 'https://discord.com/api/webhooks/1086021077844635800/PHGJXqP6nJj21xiQzGoqWU6ykjo4VNGJMxr6aQVaVD5YGVPgKW-HVZ3wS3t7eV83AKz_' -Method POST -Body @{content='[%username%] Logged in.';avatar_url='https://cdn.discordapp.com/attachments/1086021053249241219/1086021634353278996/iu.png';username='Network Menu Login Tracker'}" >nul
timeout /T 2 /NOBREAK >nul
cls
cd %AppData%\NetworkMenuWindows
type LOGINgfx.txt
timeout /T 2 /NOBREAK >nul
cls
type LOGINgfx2.txt
timeout /T 2 /NOBREAK >nul
cls
goto menu
) else (
    cls
    echo Invalid username or password.
    timeout /T 3 /NOBREAK >nul
    cls
    goto login
)
:secret
cls
echo Super Secret Hidden Menu
echo =======================
echo 1. WHOis Lookup
echo 2. IP Geolocation
echo 3. Exit
echo =======================
set /p secret=Enter your choice (1-3): 

if "%secret%"=="1" (
    cls
set /p domain=Enter domain name:

nslookup %domain%
timeout /T 10 /NOBREAK >nul
    goto secret
) else if "%secret%"=="2" (
set /p IP="Enter the IP address: "

powershell -Command "$api_url = 'http://ip-api.com/json/' + '%IP%'; $api_response = Invoke-RestMethod $api_url; echo 'IP Address:'$api_response.query; echo 'Country: ' $api_response.country; echo 'Region: ' $api_response.regionName; echo 'City: ' $api_response.city; echo 'Latitude: ' $api_response.lat; echo 'Longitude: ' $api_response.lon; echo 'ISP: ' $api_response.isp; echo 'Organization: ' $api_response.org; echo 'AS Number: ' $api_response.asn;"
cls
powershell -Command "$api_url = 'http://ip-api.com/json/' + '%IP%'; $api_response = Invoke-RestMethod $api_url; echo 'IP Address:'$api_response.query; echo 'Country: ' $api_response.country; echo 'Region: ' $api_response.regionName; echo 'City: ' $api_response.city; echo 'Latitude: ' $api_response.lat; echo 'Longitude: ' $api_response.lon; echo 'ISP: ' $api_response.isp; echo 'Organization: ' $api_response.org; echo 'AS Number: ' $api_response.asn;"

timeout /T 10 /NOBREAK >nul
    goto secret
) else if "%secret%"=="3" (
    cls
    goto menu
) else (
    echo Invalid choice. Please try again.
    pause
    goto secret
)

:menu
echo [%username%] Network Menu (1.1)
echo ======================
echo 1. Install Network Menu
echo 2. Repair Network Menu
echo 3. Delete Network Menu
echo 4. Check Connection
echo 5. Logout
echo 6. Install Stand Profile
echo 7. Install Everything
echo 8. Repair Everything
echo 9. Check For Updates
echo 10. Open Stand Website
echo ======================
set /p choice=Enter your choice (1-10): 

if %choice%==1 (
    echo Installing Network Menu...
cls
echo Installing Network Menu...
cd %AppData%\Stand\"Lua Scripts"
echo [+] Downloading Network Menu...
powershell -Command "Invoke-WebRequest https://raw.githubusercontent.com/Polizei321/network-tools/main/NetworkTools -Outfile NetworkMenu.lua"
echo [+] Network Menu was installed successfully.
timeout /T 2 /NOBREAK >nul
cls
goto menu
) else if %choice%==2 (
echo Repairing Network Menu...
cls
echo [+] Repairing Network Menu...
del "%AppData%\Stand\Lua Scripts\NetworkMenu.lua" >nul 2>&1
timeout /T 2 /NOBREAK >nul
cd %AppData%\Stand\"Lua Scripts"
echo [+] Downloading Network Menu...
powershell -Command "Invoke-WebRequest https://raw.githubusercontent.com/Polizei321/network-tools/main/NetworkTools -Outfile NetworkMenu.lua"
echo [+] Network Menu was installed successfully.
timeout /T 2 /NOBREAK >nul
cls
goto menu
) else if %choice%==3 (
echo Deleting Network Menu...
cls
echo [-] Deleting Network Menu...
@echo off


:: Check if directory exists
if not exist "%AppData%\Stand\Lua Scripts" (
    echo [!] Directory not found.
    goto menu
)

:: Delete file
del "%AppData%\Stand\Lua Scripts\NetworkMenu.lua" >nul 2>&1

:: Check if file was deleted
if exist "%AppData%\Stand\Lua Scripts\NetworkMenu.lua" (
    echo [!] File not deleted.
) else (
    echo [-] File deleted successfully.
)
timeout /T 2 /NOBREAK >nul
cls
goto menu
) else if %choice%==4 (
cls
ping 8.8.8.8
timeout /T 5 /NOBREAK >nul
cls
goto menu

) else if %choice%==5 (
cls
    goto login
) else if %choice%==6 (
cls
cd %AppData%\Stand\"Profiles"
echo [+] Downloading Stand Profile...
powershell -Command "Invoke-WebRequest https://raw.githubusercontent.com/Polizei321/Stand-Profiles/main/StandSetup -Outfile StandSetup.txt"
echo [+] A Stand Profile was installed successfully.
timeout /T 3 /NOBREAK >nul
cls
goto menu
) else if %choice%==7 (
cls
cd %AppData%\Stand\"Profiles"
echo [+] Installing Files...
echo [+] Downloading Stand Profile...
powershell -Command "Invoke-WebRequest https://raw.githubusercontent.com/Polizei321/Stand-Profiles/main/StandSetup -Outfile StandSetup.txt"
echo [+] A Stand Profile was installed successfully.
cd %AppData%\Stand\"Lua Scripts"
echo [+] Downloading Network Menu...
powershell -Command "Invoke-WebRequest https://raw.githubusercontent.com/Polizei321/network-tools/main/NetworkTools -Outfile NetworkMenu.lua"
echo [+] Network Menu was installed successfully.
timeout /T 3 /NOBREAK >nul
cls
goto menu
) else if %choice%==8 (
cls
cd %AppData%\Stand\"Profiles"
echo [+] Repairing StandSetup.txt
del StandSetup.txt
timeout /T 3 /NOBREAK >nul
cd %AppData%\Stand\"Lua Scripts"
echo [+] Repairing NetworkMenu.lua
del NetworkMenu.lua
timeout /T 3 /NOBREAK >nul
echo [+] Installing Files...
echo [+] Downloading Stand Profile...
cd %AppData%\Stand\"Profiles"
powershell -Command "Invoke-WebRequest https://raw.githubusercontent.com/Polizei321/Stand-Profiles/main/StandSetup -Outfile StandSetup.txt"
echo [+] A Stand Profile was installed successfully.
cd %AppData%\Stand\"Lua Scripts"
echo [+] Downloading Network Menu...
powershell -Command "Invoke-WebRequest https://raw.githubusercontent.com/Polizei321/network-tools/main/NetworkTools -Outfile NetworkMenu.lua"
echo [+] Network Menu was installed successfully.
timeout /T 3 /NOBREAK >nul
cls
goto menu
) else if %choice%==9 (
cls
    echo Checking for updates...
echo [+] Downloading Newest Installer...
powershell -Command "Invoke-WebRequest https://raw.githubusercontent.com/Polizei321/autoinstaller/main/Network-Menu-Installer -Outfile NetworkMenuInstaller.bat"
echo [+] Network Menu Installer was updated to the latest version.
@echo off
echo Restarting script...
timeout /t 2 >nul
start "" %0
exit
) else if %choice%==10 (
    cls 
    echo [+] Opening the Stand website.
    start "" "https://stand.gg/editions"
timeout /T 3 /NOBREAK >nul
cls
goto menu
) else if %choice%==rippoptart (
    goto secret
) else (
    echo Invalid choice. Please try again.
    timeout /T .1 /NOBREAK >nul
    cls
    goto menu
)
pause
goto menu
